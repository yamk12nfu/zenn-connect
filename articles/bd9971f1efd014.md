---
title: "Github Actionsã§ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ãŸã„ã¨ãã®ãƒ¡ãƒ¢"
emoji: "ğŸ·"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Github Actions"]
published: true
---

Github Actions ã‚’åˆã‚ã¦ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚
ãã®éš›ã«ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥å¤–ã§ãƒ†ã‚¹ãƒˆã‚’è¡Œã„ãŸã‹ã£ãŸã®ã§ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚

ä»Šå›ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
root
â”œâ”€â”€ .github/workflows
â”‚Â Â  â”œâ”€â”€ test.yml
â””â”€â”€ app1
    â”œâ”€â”€ eslintrc.js
    â”œâ”€â”€ jest.config.js
    â”œâ”€â”€ node_modules
    â”œâ”€â”€ package-lock.json
    â”œâ”€â”€ package.json
    â”œâ”€â”€ src
    â””â”€â”€ tsconfig.json
```

ã‚„ã‚ŠãŸã„ã“ã¨ã¯ä¸Šè¨˜ã® app1 ã§ãƒ†ã‚¹ãƒˆã‚’èµ°ã‚‰ã›ã‚‹ã“ã¨ã€‚

`.github/workflows` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ã€yml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
ä»Šå›ã¯ test.yml ã¨ã—ã¾ã—ãŸã€‚

ä¸‹è¨˜ã®ã‚ˆã†ã«ã™ã‚‹

```yml
name: Test

on:
  pull_request:
    types: [opened, synchronize, reopened]
    branches:
      - main

jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./app1
    steps:
      - uses: actions/checkout@v3

      - uses: actions/setup-node@v3
        with:
          node-version: "18"

      - run: npm ci

      - run: npm run test:ci
```

`working-directory:` ã§ãƒ‘ã‚¹ã‚’æŒ‡å®šã§ãã¾ã—ãŸã€‚
ãŸã ã—`./app1` ã®ã‚ˆã†ã«`./` ãŒãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã®ã§æ³¨æ„ã§ã™ã€‚

## å‚è€ƒ

[https://zenn.dev/panyoriokome/scraps/dbf23d2327a8cc](https://zenn.dev/panyoriokome/scraps/dbf23d2327a8cc)
